(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{333:function(e,t,a){"use strict";var c,n,r=a(307),o=a.n(r),l=(a(69),a(7)),i=a.n(l),u=a(8),p=a.n(u),s=a(22),d=a.n(s),m=a(12),b=a.n(m),O=a(23),f=a.n(O),g=(a(309),a(306)),h=a.n(g),j=(a(327),a(330)),y=a.n(j),v=a(0),E=a.n(v),x=a(109),w=a(54),_=y.a.Item,C=h.a.Option,k=Object(x.c)(c=function(e){function t(){return i()(this,t),d()(this,b()(t).apply(this,arguments))}return f()(t,e),p()(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,a=e.formItemLayout,c=e.form.getFieldDecorator;return E.a.createElement("div",null,t.map(function(e){return E.a.createElement(_,o()({},a,{label:e.name,key:e.id}),c("attrs.attrId".concat(e.id),{rules:[{required:!0,message:"".concat(Object(w.a)("text.please_select")).concat(e.name,"！")}]})(E.a.createElement(h.a,{mode:"multiple",placeholder:"".concat(Object(w.a)("text.please_select")).concat(e.name,"！")},e.options.map(function(e){return E.a.createElement(C,{key:e.id,value:e.id},e.name)}))))}))}}]),t}(v.Component))||c,P=Object(x.c)(n=function(e){function t(){return i()(this,t),d()(this,b()(t).apply(this,arguments))}return f()(t,e),p()(t,[{key:"render",value:function(){var e=this.props.attributeTexts;return E.a.createElement("span",null,e.map(function(e,t){var a=e.name,c=e.value;return E.a.createElement("div",{key:t},"".concat(a,": ").concat(c.join(",")))}))}}]),t}(v.Component))||n;a.d(t,"b",function(){return k}),a.d(t,"a",function(){return P})},624:function(e,t,a){"use strict";a.r(t);a(117),a(119),a(289);var c,n,r=a(291),o=a.n(r),l=a(307),i=a.n(l),u=(a(364),a(369)),p=a.n(u),s=(a(120),a(536),a(78)),d=a.n(s),m=(a(56),a(47),a(38),a(57),a(123)),b=a.n(m),O=(a(366),a(7)),f=a.n(O),g=a(8),h=a.n(g),j=a(22),y=a.n(j),v=a(12),E=a.n(v),x=a(23),w=a.n(x),_=(a(327),a(330)),C=a.n(_),k=(a(368),a(385)),P=a.n(k),D=a(0),q=a.n(D),A=a(109),I=(a(546),a(548)),S=a.n(I),F=Object(A.b)("category")(c=Object(A.c)(c=function(e){function r(){var e,t;f()(this,r);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(t=y()(this,(e=E()(r)).call.apply(e,[this].concat(c)))).loadData=function(e){t.props.category.getCategory({level:e.length+1})},t}return w()(r,e),h()(r,[{key:"render",value:function(){var e=this.props,t=e.category,a=b()(e,["category"]);return q.a.createElement(S.a,i()({},a,{loadData:this.loadData,changeOnSelect:!0,options:t.categoriesTree}))}}]),r}(D.Component))||c)||c,V=a(333),L=a(54);function T(t,e){var a=Object.keys(t);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(t)),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a}var J=P.a.Panel,$=C.a.Item,B={labelCol:{span:4},wrapperCol:{span:8}},K={wrapperCol:{span:8,offset:4}},M=Object(A.b)("productEdit","category")(n=Object(A.c)(n=function(e){function r(){var e,a;f()(this,r);for(var t=arguments.length,c=new Array(t),n=0;n<t;n++)c[n]=arguments[n];return(a=y()(this,(e=E()(r)).call.apply(e,[this].concat(c)))).handleCategoryChange=function(e){var t=a.props.productEdit;2==e.length&&t.getAttributes(e[e.length-1])},a.onSubmit=function(){var e=a.props,r=e.productEdit,t=e.form;e.match.params.id;t.validateFields(function(e,t){if(!e){var a={},c=t.attrs,n=b()(t,["attrs"]);Object.keys(c).map(function(e){a[e.slice(6)]=c[e]}),r.setValues(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?T(a,!0).forEach(function(e){d()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}({},n,{attrValues:a})),r.saveProduct()}})},a}return w()(r,e),h()(r,[{key:"componentDidMount",value:function(){var e=this.props,a=e.productEdit,c=e.category,n=e.form,t=e.match.params.id;t?a.getProduct(t).then(function(e){if(e){var t=a.cids;Promise.all([c.getCategoryByLevels(t),a.getAttributes(t[t.length-1])]).then(function(e){e&&n.setFieldsValue(a.pageValues)})}}):c.getCategory({level:1})}},{key:"render",value:function(){console.log(123456782);var e=this.props,t=e.productEdit,a=e.form,c=a.getFieldDecorator;return q.a.createElement(P.a,{defaultActiveKey:["1"]},q.a.createElement(J,{header:t.id?"".concat(Object(L.a)("action.edit")).concat(Object(L.a)("text.product")," id:").concat(t.id):"".concat(Object(L.a)("action.edit")).concat(Object(L.a)("text.product")),key:"1"},q.a.createElement(C.a,null,q.a.createElement($,i()({},B,{label:Object(L.a)("model.product.name")}),c("name",{rules:[{required:!0,message:"".concat(Object(L.a)("text.please_input")).concat(Object(L.a)("model.product.name"))}]})(q.a.createElement(p.a,{placeholder:"".concat(Object(L.a)("text.please_input")).concat(Object(L.a)("model.product.name"))}))),q.a.createElement($,i()({},B,{label:Object(L.a)("model.product.categories")}),c("cids",{rules:[{required:!0,message:"".concat(Object(L.a)("text.please_input")).concat(Object(L.a)("model.product.categories"))}]})(q.a.createElement(F,{placeholder:"".concat(Object(L.a)("text.please_input")).concat(Object(L.a)("model.product.categories")),onChange:this.handleCategoryChange}))),q.a.createElement(V.b,{attributes:t.attributes,formItemLayout:B,form:a}),q.a.createElement($,i()({},B,{label:Object(L.a)("model.product.price")}),c("price",{rules:[{required:!0,message:"".concat(Object(L.a)("text.please_input")).concat(Object(L.a)("model.product.price"))},{pattern:/^([1-9](\d+)?|0)(\.\d{1,2})?$/,message:Object(L.a)("text.should_be_two_decimals")}]})(q.a.createElement(p.a,{placeholder:"".concat(Object(L.a)("text.please_input")).concat(Object(L.a)("model.product.price"))}))),q.a.createElement($,i()({},B,{label:Object(L.a)("model.product.num")}),c("num",{rules:[{required:!0,message:"".concat(Object(L.a)("text.please_input")).concat(Object(L.a)("model.product.num"))},{pattern:/^[1-9](\d+)?|0$/,message:Object(L.a)("text.should_be_integer")}]})(q.a.createElement(p.a,{placeholder:"".concat(Object(L.a)("text.please_input")).concat(Object(L.a)("model.product.num"))}))),q.a.createElement($,i()({},B,{label:Object(L.a)("model.product.desc")}),c("desc",{rules:[{required:!0,message:"".concat(Object(L.a)("text.please_input")).concat(Object(L.a)("model.product.desc"))}]})(q.a.createElement(p.a,{type:"textarea",placeholder:"".concat(Object(L.a)("text.please_input")).concat(Object(L.a)("model.product.desc"))}))),q.a.createElement($,K,q.a.createElement(o.a,{type:"primary",htmlType:"submit",onClick:this.onSubmit},Object(L.a)("action.submit"))))))}}]),r}(D.Component))||n)||n;t.default=C.a.create()(M)}}]);
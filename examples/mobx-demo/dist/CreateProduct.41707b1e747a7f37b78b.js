(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{282:function(P,V,L){var e,t,a;t=[V,L(296),L(300),L(315),L(373),L(374),L(110),L(549),L(106),L(72),L(59),L(46),L(73),L(148),L(376),L(42),L(335),L(336),L(393),L(394),L(1),L(142),L(618),L(340),L(99)],void 0===(a="function"==typeof(e=function(e,t,r,d,a,o,l,u,n,f,i,c,p,s,m,v,g,y,h,E,b,x,_,C,w){"use strict";var k,D=L(5),q=L(294);e.__esModule=!0,e.default=void 0,r=D(r),d=D(d),o=D(o),s=D(s),v=D(v),y=D(y),E=D(E),b=q(b),_=D(_),w=D(w);var M=E.default.Panel,j=y.default.Item,A={labelCol:{span:4},wrapperCol:{span:8}},I={wrapperCol:{span:8,offset:4}},F=(0,x.inject)("productEdit","category")(k=(0,x.observer)(k=function(u){function e(){for(var a,e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return(a=u.call.apply(u,[this].concat(t))||this).handleCategoryChange=function(e){var t=a.props.productEdit;2==e.length&&t.getAttributes(e[e.length-1])},a.onSubmit=function(){var e=a.props,r=e.productEdit,t=e.form;e.match.params.id;t.validateFields(function(e,t){if(!e){var a={},l=t.attrs,u=(0,s.default)(t,["attrs"]);Object.keys(l).map(function(e){a[e.slice(6)]=l[e]}),r.setValues(Object.assign({},u,{attrValues:a})),r.saveProduct()}})},a}(0,v.default)(e,u);var t=e.prototype;return t.componentDidMount=function(){var e=this.props,a=e.productEdit,l=e.category,u=e.form,t=e.match.params.id;t?a.getProduct(t).then(function(e){if(e){var t=a.cids;Promise.all([l.getCategoryByLevels(t),a.getAttributes(t[t.length-1])]).then(function(e){e&&u.setFieldsValue(a.pageValues)})}}):l.getCategory({level:1})},t.render=function(){console.log(123456782);var e=this.props,t=e.productEdit,a=e.form,l=a.getFieldDecorator;return b.default.createElement(E.default,{defaultActiveKey:["1"]},b.default.createElement(M,{header:t.id?""+(0,w.default)("action.edit")+(0,w.default)("text.product")+" id:"+t.id:""+(0,w.default)("action.edit")+(0,w.default)("text.product"),key:"1"},b.default.createElement(y.default,null,b.default.createElement(j,(0,d.default)({},A,{label:(0,w.default)("model.product.name")}),l("name",{rules:[{required:!0,message:""+(0,w.default)("text.please_input")+(0,w.default)("model.product.name")}]})(b.default.createElement(o.default,{placeholder:""+(0,w.default)("text.please_input")+(0,w.default)("model.product.name")}))),b.default.createElement(j,(0,d.default)({},A,{label:(0,w.default)("model.product.categories")}),l("cids",{rules:[{required:!0,message:""+(0,w.default)("text.please_input")+(0,w.default)("model.product.categories")}]})(b.default.createElement(_.default,{placeholder:""+(0,w.default)("text.please_input")+(0,w.default)("model.product.categories"),onChange:this.handleCategoryChange}))),b.default.createElement(C.EditUnits,{attributes:t.attributes,formItemLayout:A,form:a}),b.default.createElement(j,(0,d.default)({},A,{label:(0,w.default)("model.product.price")}),l("price",{rules:[{required:!0,message:""+(0,w.default)("text.please_input")+(0,w.default)("model.product.price")},{pattern:/^([1-9](\d+)?|0)(\.\d{1,2})?$/,message:(0,w.default)("text.should_be_two_decimals")}]})(b.default.createElement(o.default,{placeholder:""+(0,w.default)("text.please_input")+(0,w.default)("model.product.price")}))),b.default.createElement(j,(0,d.default)({},A,{label:(0,w.default)("model.product.num")}),l("num",{rules:[{required:!0,message:""+(0,w.default)("text.please_input")+(0,w.default)("model.product.num")},{pattern:/^[1-9](\d+)?|0$/,message:(0,w.default)("text.should_be_integer")}]})(b.default.createElement(o.default,{placeholder:""+(0,w.default)("text.please_input")+(0,w.default)("model.product.num")}))),b.default.createElement(j,(0,d.default)({},A,{label:(0,w.default)("model.product.desc")}),l("desc",{rules:[{required:!0,message:""+(0,w.default)("text.please_input")+(0,w.default)("model.product.desc")}]})(b.default.createElement(o.default,{type:"textarea",placeholder:""+(0,w.default)("text.please_input")+(0,w.default)("model.product.desc")}))),b.default.createElement(j,I,b.default.createElement(r.default,{type:"primary",htmlType:"submit",onClick:this.onSubmit},(0,w.default)("action.submit"))))))},e}(b.Component))||k)||k,O=y.default.create()(F);e.default=O,P.exports=V.default})?e.apply(V,t):e)||(P.exports=a)},340:function(e,t,u){var a,l,r;l=[t,u(341),u(342)],void 0===(r="function"==typeof(a=function(e,t,a){"use strict";var l=u(5);e.__esModule=!0,t=l(t),e.EditUnits=t.default,a=l(a),e.DetailUnits=a.default})?a.apply(t,l):a)||(e.exports=r)},341:function(y,h,E){var e,t,a;t=[h,E(315),E(54),E(42),E(317),E(314),E(335),E(336),E(1),E(142),E(99)],void 0===(a="function"==typeof(e=function(e,r,t,l,a,d,u,o,n,f,i){"use strict";var c,p=E(5),s=E(294);e.__esModule=!0,e.default=void 0,r=p(r),l=p(l),d=p(d),o=p(o),n=s(n),i=p(i);var m=o.default.Item,v=d.default.Option,g=(0,f.observer)(c=function(e){function t(){return e.apply(this,arguments)||this}(0,l.default)(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.attributes,a=e.formItemLayout,l=e.form,u=l.getFieldDecorator;return n.default.createElement("div",null,t.map(function(e){return n.default.createElement(m,(0,r.default)({},a,{label:e.name,key:e.id}),u("attrs.attrId"+e.id,{rules:[{required:!0,message:""+(0,i.default)("text.please_select")+e.name+"！"}]})(n.default.createElement(d.default,{mode:"multiple",placeholder:""+(0,i.default)("text.please_select")+e.name+"！"},e.options.map(function(e){return n.default.createElement(v,{key:e.id,value:e.id},e.name)}))))}))},t}(n.Component))||c;e.default=g,y.exports=h.default})?e.apply(h,t):e)||(y.exports=a)},342:function(i,c,p){var e,t,a;t=[c,p(54),p(42),p(1),p(142),p(99)],void 0===(a="function"==typeof(e=function(e,t,l,u,a,r){"use strict";var d,o=p(5),n=p(294);e.__esModule=!0,e.default=void 0,l=o(l),u=n(u),r=o(r);var f=(0,a.observer)(d=function(e){function t(){return e.apply(this,arguments)||this}(0,l.default)(t,e);var a=t.prototype;return a.render=function(){var e=this.props.attributeTexts;return u.default.createElement("span",null,e.map(function(e,t){var a=e.name,l=e.value;return u.default.createElement("div",{key:t},a+": "+l.join(","))}))},t}(u.Component))||d;e.default=f,i.exports=c.default})?e.apply(c,t):e)||(i.exports=a)},618:function(p,s,m){var e,t,a;t=[s,m(619),m(621),m(315),m(148),m(42),m(1),m(142)],void 0===(a="function"==typeof(e=function(e,t,l,r,d,a,o,u){"use strict";var n,f=m(5),i=m(294);e.__esModule=!0,e.default=void 0,l=f(l),r=f(r),d=f(d),a=f(a),o=i(o);var c=(0,u.inject)("category")(n=(0,u.observer)(n=function(u){function e(){for(var a,e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return(a=u.call.apply(u,[this].concat(t))||this).loadData=function(e){var t=a.props.category;t.getCategory({level:e.length+1})},a}(0,a.default)(e,u);var t=e.prototype;return t.render=function(){var e=this.props,t=e.category,a=(0,d.default)(e,["category"]);return o.default.createElement(l.default,(0,r.default)({},a,{loadData:this.loadData,changeOnSelect:!0,options:t.categoriesTree}))},e}(o.Component))||n)||n;e.default=c,p.exports=s.default})?e.apply(s,t):e)||(p.exports=a)}}]);